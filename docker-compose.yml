version: '3.9'
services:
    # Frontend incl. Masterportal configuration for the storytelling tool
    stt-frontend:
        container_name: stt-frontend
        build:
            context: .
            dockerfile: Dockerfile
        ports:
            - '80:80'
        networks:
            - proxy
        labels:
            - "traefik.enable=true"
            - "traefik.http.routers.stt-frontend.entrypoints=https"
            - "traefik.http.routers.stt-frontend.rule=Host(`stt.cut.hcu-hamburg.de`)"
            - "traefik.http.routers.stt-frontend.tls=true"
            - "traefik.http.routers.stt-frontend.tls.certresolver=lets-encr"

networks:
    proxy:
        external: true
